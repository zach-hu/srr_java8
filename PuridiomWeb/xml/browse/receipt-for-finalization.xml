<browse-receipt-for-finalization>
<columns>
<ReceiptHeader_icRecHeader>
	<hidden>Y</hidden>
</ReceiptHeader_icRecHeader>
<ReceiptHeader_icPoHeader>
	<hidden>Y</hidden>
</ReceiptHeader_icPoHeader> 
<ReceiptHeader_receiptNumber>
	<label>brw-receiptNumber</label>
	<link><![CDATA[javascript: finalizeReceipt('#ReceiptHeader_icRecHeader^'); void(0);]]></link>
	<size>13</size>
</ReceiptHeader_receiptNumber>
<ReceiptHeader_receiptDate>
	<label>brw-receiptDate</label>
	<size>12</size>
	<type>DATE</type>
</ReceiptHeader_receiptDate>
<ReceiptHeader_packingSlip>
	<label>packingSlip</label>
	<size>15</size>
</ReceiptHeader_packingSlip>
<ReceiptHeader_refNumber>
	<label>poNumber</label>
	<size>13</size>
</ReceiptHeader_refNumber>
<ReceiptHeader_refRelease>
	<label>brw-releaseNumber</label>
	<size>8</size>
</ReceiptHeader_refRelease>
<ReceiptHeader_vendorName>
	<label>brw-vendorName</label>
	<size>16</size>
</ReceiptHeader_vendorName>
<ReceiptHeader_pkgsReceived>
	<label>brw-receiptPkgs</label>
	<size>10</size>
	<type>QtyDecimal</type>
</ReceiptHeader_pkgsReceived>
<ReceiptHeader_carrierCode>
	<label>brw-carrierCode</label>
	<size>13</size>
</ReceiptHeader_carrierCode>
<ReceiptHeader_receiptStatus>
	<hidden>Y</hidden>
</ReceiptHeader_receiptStatus>
<ReceiptHeader_forwardTo>
	<hidden>Y</hidden>
</ReceiptHeader_forwardTo>
</columns>
<sqlfrom>ReceiptHeader as ReceiptHeader</sqlfrom>
<sqlwhere><![CDATA[ReceiptHeader.receiptNumber is not null 
	and ReceiptHeader.receiptNumber <> 'null' 
	and ReceiptHeader.receiptStatus = '4000' 
	and ReceiptHeader.forwardTo is not null 
	and ReceiptHeader.forwardTo <> 'null' 
	and (ReceiptHeader.forwardTo = :as_userid
			or (ReceiptHeader.forwardTo = 'END-USERS'
				and ReceiptHeader.icPoHeader in 
					(SELECT distinct PoHeader.icPoHeader 
						FROM PoHeader as PoHeader, PoLine as PoLine
						WHERE PoHeader.icPoHeader = PoLine.icPoHeader
							and PoLine.status >= '3030' 
							and PoLine.status < '4010' 
							and PoLine.status <> '3045' 
							and (PoLine.requisitionerCode = :as_userid 
								or ((PoLine.requisitionerCode is null or PoLine.requisitionerCode = '') 
								and (PoHeader.requisitionerCode = :as_userid or PoHeader.buyerCode = :as_userid)))
					)
				)
			)
]]></sqlwhere>
<sqlorderby>ReceiptHeader.receiptDate ASC</sqlorderby>
<pagesize>15</pagesize>
<title>Receipts Pending Finalization</title>
</browse-receipt-for-finalization>